# テスト用チェックリスト

本システムの動作確認用チェックリストです。要件定義書・外部設計書に基づき、テスト実施時に利用してください。

**記入例**: 合格は ✓ または ○、不合格は ✗ または ×、未実施は空欄。備考欄にバージョン・環境・不具合内容などを記入可。

---

## 1. 前提条件・環境

| No. | 確認項目 | 期待結果 | 結果 | 備考 |
|-----|----------|----------|------|------|
| 1.1 | Windows 10/11 で起動する | アプリが正常に起動する | | |
| 1.2 | .NET 8 ランタイムが利用可能 | ビルド・実行ができる | | |
| 1.3 | Python 3 + SudachiPy がインストール済み | 日本語検索が動作する（未導入時は別途エラー確認） | | |

---

## 2. 設定機能

| No. | 確認項目 | 期待結果 | 結果 | 備考 |
|-----|----------|----------|------|------|
| 2.1 | 設定ボタンで設定モーダルが開く | モーダルが表示され、テーマ・フォルダ・拡張子等の項目が見える | | |
| 2.2 | 検索対象フォルダを追加する | パスを入力して「追加」で一覧に追加される | | |
| 2.3 | 存在しないフォルダを追加しようとする | 警告メッセージが表示され、追加されない | | |
| 2.4 | 重複するフォルダを追加しようとする | 警告メッセージが表示され、重複して追加されない | | |
| 2.5 | 検索対象フォルダを削除する | 一覧から削除できる | | |
| 2.6 | 対象拡張子を追加・削除する | チップで追加・削除でき、空の場合は「抽出器の全対応拡張子を使用」の説明がある | | |
| 2.7 | インデックス保存先を変更する | パスを入力でき、変更後は再構築が必要な旨が分かる | | |
| 2.8 | 「フォルダを開く」でインデックスフォルダを開く | エクスプローラーで該当フォルダが開く | | |
| 2.9 | テーマを Dark / Light / System に変更する | 表示が切り替わる（保存後に反映） | | |
| 2.10 | 定期再構築を 無効 / 30分 / 1時間 等に設定する | 選択した間隔が保存される | | |
| 2.11 | 「保存」をクリックする | 設定が永続化され、モーダルが閉じる | | |
| 2.12 | 「キャンセル」または閉じるボタン（×）で閉じる | モーダルが閉じ、未保存の変更は破棄される（背面クリックでは閉じない） | | |

---

## 3. インデックス機能

| No. | 確認項目 | 期待結果 | 結果 | 備考 |
|-----|----------|----------|------|------|
| 3.1 | 対象フォルダ未設定で「再構築」を押す | 「対象フォルダを設定してください」等のメッセージが表示される | | |
| 3.2 | フッターの「再構築」ボタンをクリックする | インデックス更新ダイアログが開く | | |
| 3.3 | ダイアログで「差分更新」を選んで「実行」 | 差分更新が開始され、進捗がフッターに表示される | | |
| 3.4 | ダイアログで「全体を再構築」を選んで「実行」 | 再構築が開始され、進捗が表示される | | |
| 3.5 | 進捗表示 | 処理済み数/総数、現在ファイル、エラー数（あれば）が表示される | | |
| 3.6 | インデックス作成中は検索入力欄が無効になる | 「再構築中は検索できません」等が表示され、検索できない | | |
| 3.7 | インデックス構築中の「キャンセル」ボタン | フッターに「キャンセル」が表示され、押下で構築が中止され「キャンセルしました」と表示される | | |
| 3.8 | 完了後にフッターの登録件数・最終更新が更新される | 件数と日時が更新される | | |
| 3.9 | キャンセルでダイアログを閉じる | ダイアログが閉じ、更新は開始されない | | |

---

## 4. 検索機能

| No. | 確認項目 | 期待結果 | 結果 | 備考 |
|-----|----------|----------|------|------|
| 4.1 | 検索キーワードを入力せず Enter | 検索は実行されない（または何も起きない） | | |
| 4.2 | 検索キーワードを入力して Enter | 検索が実行され、結果がツリー形式で表示される | | |
| 4.3 | 検索中は「検索中...」が表示される | ローディング表示が出る | | |
| 4.4 | ヒット 0 件のとき | キーワード入力前は「検索キーワードを入力」、検索後は「結果なし」等が表示される | | |
| 4.5 | 日本語キーワードで検索 | 形態素解析され、期待に近いファイルがヒットする | | |
| 4.6 | 検索結果がフォルダ別にグルーピングされている | ツリーでフォルダ→ファイルの階層になっている | | |
| 4.7 | 結果一覧にファイル名・件数等が表示される | ファイル名、ヒット件数バッジ等が表示される | | |
| 4.8 | マッチ箇所の抜粋がハイライト表示される | 一覧またはプレビューでキーワードがハイライトされている | | |
| 4.9 | 検索エラー時 | 「検索に失敗しました」等のメッセージが表示される | | |

---

## 5. プレビュー・表示

| No. | 確認項目 | 期待結果 | 結果 | 備考 |
|-----|----------|----------|------|------|
| 5.1 | ツリーのファイルノードをクリックする | 右側にプレビューが表示される | | |
| 5.2 | テキストファイル（.txt）のプレビュー | 内容が行リストで表示される | | |
| 5.3 | ソースコード（.cs, .js 等）のプレビュー | シンタックスハイライトされて表示される（現状は行テキスト） | | |
| 5.4 | 検索キーワードがプレビュー内に含まれる場合 | 該当箇所がハイライトされる | | |
| 5.5 | Office（.docx, .xlsx, .pptx）のプレビュー | テキスト抽出された内容が行で表示される | | |
| 5.6 | PDF（.pdf）のプレビュー | テキスト抽出された内容が表示される | | |
| 5.7 | プレビュー読み込み中 | 「読み込み中...」等の表示が出る | | |
| 5.8 | フォルダノードをクリックする | 右側にフォルダ内のファイル一覧（表）が表示される | | |
| 5.9 | フォルダ一覧でソート（名前・更新日・種類・サイズ） | クリックで昇順/降順が切り替わる | | |
| 5.10 | フォルダ一覧で種類フィルター | 拡張子でフィルターできる | | |

---

## 6. 操作・キーボード

| No. | 確認項目 | 期待結果 | 結果 | 備考 |
|-----|----------|----------|------|------|
| 6.1 | Enter で検索実行 | 検索が実行される | | |
| 6.2 | Esc を押す | 検索クエリとエラーメッセージがクリアされる。結果一覧は残る | | |
| 6.3 | ファイル選択状態で Enter | 関連アプリでファイルが開く | | |
| 6.4 | ファイル選択状態で Ctrl+Enter | エクスプローラーで親フォルダが開き、該当ファイルが選択される | | |
| 6.5 | ファイル選択状態で Ctrl+C | ファイルのフルパスがクリップボードにコピーされる | | |
| 6.6 | Ctrl+F | 検索入力欄にフォーカスする | | |
| 6.7 | 検索結果の選択 | ツリーのファイルノードをクリックで選択できる | | |

---

## 7. 対応ファイル形式・インデックス対象

| No. | 確認項目 | 期待結果 | 結果 | 備考 |
|-----|----------|----------|------|------|
| 7.1 | .txt がインデックス・検索・プレビューされる | ヒットし、内容がプレビューされる | | |
| 7.2 | .docx がインデックス・検索・プレビューされる | テキストが抽出され、検索・プレビューできる | | |
| 7.3 | .xlsx がインデックス・検索・プレビューされる | 同上 | | |
| 7.4 | .pdf がインデックス・検索・プレビューされる | 同上 | | |
| 7.5 | 対象拡張子を限定した状態で再構築 | 指定した拡張子のファイルのみインデックスされる | | |

---

## 8. エラー・境界

| No. | 確認項目 | 期待結果 | 結果 | 備考 |
|-----|----------|----------|------|------|
| 8.1 | ネットワークドライブ（UNC）を対象フォルダにした場合 | アクセス権があればインデックス・検索できる | | |
| 8.2 | 存在しないフォルダを対象にした場合 | 追加時またはインデックス時に適切にエラーまたはスキップされる | | |
| 8.3 | 大きなファイル・大量ファイルでインデックス | 進捗が表示され、完了またはエラー件数が分かる | | |
| 8.4 | 検索結果 0 件のときプレビュー領域 | 「ファイルを選択」または空状態が表示される | | |

---

## 9. 参照

- [要件定義書](要件定義.md)
- [外部設計書](外部設計.md)
- [詳細設計書](詳細設計.md)
